â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸš¨ CORREÃ‡ÃƒO URGENTE: ERRO AO SALVAR NO SUPABASE                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ERRO ATUAL:
"Erro ao salvar no banco de dados: invalid schema-public"

CAUSA:
As polÃ­ticas RLS (Row Level Security) do Supabase estÃ£o BLOQUEANDO os inserts.
Sua chave "anon" estÃ¡ correta, mas faltam permissÃµes.


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         ğŸ”§ SOLUÃ‡ÃƒO RÃPIDA (3 MINUTOS)                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASSO 1: ACESSAR O SUPABASE SQL EDITOR
   1. VÃ¡ para: https://supabase.com/dashboard/project/vwruogwdtbsareighmoc
   2. No menu lateral, clique em "SQL Editor"
   3. Clique em "+ New Query"


PASSO 2: DESABILITAR RLS (SOLUÃ‡ÃƒO MAIS RÃPIDA)
   Cole este cÃ³digo e clique em RUN:

   ALTER TABLE students DISABLE ROW LEVEL SECURITY;
   ALTER TABLE teachers DISABLE ROW LEVEL SECURITY;
   ALTER TABLE admins DISABLE ROW LEVEL SECURITY;
   ALTER TABLE secretaries DISABLE ROW LEVEL SECURITY;

   âœ… Pronto! Isso deve resolver IMEDIATAMENTE.


PASSO 3: TESTAR NO APP
   1. Recarregue a pÃ¡gina do app (F5)
   2. Tente cadastrar novamente
   3. Deve funcionar agora! âœ…


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ›¡ï¸ ALTERNATIVA: CRIAR POLÃTICAS RLS                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Se vocÃª quiser MANTER RLS ativo (mais seguro), use isso em vez da PASSO 2:

-- Para students
CREATE POLICY "Enable all for students" ON students
FOR ALL USING (true) WITH CHECK (true);

-- Para teachers
CREATE POLICY "Enable all for teachers" ON teachers
FOR ALL USING (true) WITH CHECK (true);

-- Para admins
CREATE POLICY "Enable all for admins" ON admins
FOR ALL USING (true) WITH CHECK (true);

-- Para secretaries
CREATE POLICY "Enable all for secretaries" ON secretaries
FOR ALL USING (true) WITH CHECK (true);


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ğŸ“‹ ARQUIVO SQL COMPLETO                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Criei o arquivo: CORRIGIR-RLS-SUPABASE.sql
Abra ele e copie todo o conteÃºdo para o SQL Editor do Supabase.


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        â“ POR QUE ISSO ACONTECEU?                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

- O Supabase ativa RLS por padrÃ£o para seguranÃ§a
- RLS bloqueia TODAS as operaÃ§Ãµes atÃ© vocÃª criar polÃ­ticas
- Sua chave "anon" funciona, mas precisa de permissÃµes RLS
- Desabilitar RLS = permite tudo (OK para desenvolvimento)
- Criar polÃ­ticas = mais seguro (recomendado para produÃ§Ã£o)


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           ğŸ¯ ESCOLHA SUA SOLUÃ‡ÃƒO                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ RÃPIDA (recomendada agora): DESABILITAR RLS
   - Mais fÃ¡cil, funciona imediatamente
   - Execute: ALTER TABLE students DISABLE ROW LEVEL SECURITY;
   - Repita para as outras 3 tabelas

ğŸ›¡ï¸ SEGURA (para depois): CRIAR POLÃTICAS
   - Mais trabalho, mas mais seguro
   - Use o arquivo CORRIGIR-RLS-SUPABASE.sql


FAÃ‡A AGORA: VÃ¡ no Supabase e execute um dos scripts acima! ğŸš€
